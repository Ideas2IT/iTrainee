@using Microsoft.AspNetCore.Http;

@{
    TempData.Keep("UserId");
    TempData.Keep("UserFirstName");
    TempData.Keep("FirstName");
    TempData.Keep("HeaderRole");
    TempData.Keep("UserToken");
    TempData.Keep("StreamId");
    TempData.Keep("SubTopicId");
    TempData.Keep("TopicId");
    TempData.Keep("Role");
    TempData.Keep("UnreadMessagesCount");
    TempData.Keep("BatchId");
}
<style>
    .iTrainee-header-fixed {
        position: fixed;
        width: 100%;
        z-index: 2;
        top:0;
    }

    body {
        margin: 136px 0px;
    }
</style>

<header class="iTrainee-header-fixed">

    <nav class="navbar navbar-expand-lg navbar-light bg-light bg-custom-light">
        <div>
            <img src="\css\logo.jpg" width="50" height="50" class="d-inline-block align-top" alt="">
            <span class="font-weight-bolder fs-6 header-app-name px-3">iTrainee</span>
        </div>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div id="navbarCollapse" class="collapse navbar-collapse">
            <ul class="navbar-nav ml-auto">
                @if (TempData["HeaderRole"].Equals("Trainee"))
                {
                    <li class="nav-item px-3 signInSignOut">
                        <span>Date: @DateTime.Now.ToShortDateString()</span>
                    </li>
                    @*<li class="nav-item px-3 signInSignOut">
                        <span>Sign-In : @Model.SignIn.ToShortTimeString()</span>
                        </li>
                        <li class="nav-item px-3 signInSignOut">
                        <span>Sign-Out : @Model.SignOut.ToShortTimeString()</span>
                        </li>*@
                }
                <li class="nav-item  px-2">
                    <i class="header-notification fa-lg fa fa-bell-o"></i>
                    @if ((int)@TempData["UnreadMessagesCount"] > 0)
                    {
                        <span class="counter counter-lg">@TempData["UnreadMessagesCount"]</span>
                    }

                </li>
                <li class="nav-item dropdown px-2">
                    <a class="text-dark nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <img src="\css\logo.jpg" width="40" height="40" class="rounded-circle"> <span class="px-2">@TempData.Peek("CurrentUserName")</span>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="#">Profile</a>

                        <a href="/Home/ChangePassword?userId=@TempData["UserId"]" class="dropdown-item"> Change Password</a>

                        <a class="dropdown-item" href="/Home/Login">Sign Out</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>

    <nav class="navbar navbar-expand-md actions-nav">
        <div class="container-fluid">

            <!-- Toggler/collapsibe Button -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Navbar links -->
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <ul class="navbar-nav align-text-center">
                    @if (TempData["HeaderRole"].Equals("Admin"))
                    {
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Admin/Home/Index"><i class="fa fa-home fa-lg"></i></a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Admin/Home/ManageUser?role=Admin">Admin</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Admin/Home/ManageUser?role=Mentor">Mentor</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Admin/Home/ManageUser?role=Trainee">Trainee</a>
                        </li>
                        <li class="nav-item px-3">
                             <a class="nav-link text-white" href="/Shared/Batch/ManageBatch?title=ManageBatch">Batch</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Mentor/Home/ManageStreams">Stream</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Mentor/Home/ManageTopics">Topics</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Mentor/Home/ManageSubTopics">Sub Topics</a>
                        </li>
                        <li class="nav-item px-3">
                             <a class="nav-link text-white" href="/Shared/Batch/ManageBatch?title=AssignTopics">Assign Topics</a>
                            
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Shared/Messages/ManageMessages">Alert Trainee</a>
                        </li>
                    }
                    @if (TempData["HeaderRole"].Equals("Mentor"))
                    {
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Mentor/Home/Index"><i class="fa fa-home fa-lg" aria-hidden="true"></i></a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Shared/Batch/ManageBatch">Batch</a>
                            @TempData["Title"] = "ManageBatch";
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Mentor/Home/ManageStreams">Stream</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Mentor/Home/ManageTopics">Topics</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Mentor/Home/ManageSubTopics">Sub Topics</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Shared/Batch/ManageBatch">Assign Topics</a>
                            @TempData["Title"] = "AssignTopics";
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Shared/Messages/ManageMessages">Alert Trainee</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Admin/Home/ManageUser?role=Trainee&userId=@TempData["UserId"]">Trainee Progress</a>
                        </li>
                    }
                    @if (TempData["HeaderRole"].Equals("Trainee"))
                    {
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="#">Daily Progress</a>
                        </li>
                        <li class="nav-item px-3">
                            <a class="nav-link text-white" href="/Shared/Messages/ManageTraineeMessages">Alerts</a>
                        </li>
                    }
                </ul>
            </div>
        </div>
    </nav>
</header>

<div class="modal" fade" id="changePassword">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Change Password</h3>
            </div>
            <div class="modal-body" id="changePasswordBody">
            </div>
        </div>
    </div>
</div>


<script type="text/javascript">

        function ChangePassword() {

            var UserPath = "/Home/ChangePassword";
            $("#changePasswordBody").load(UserPath, function () {
                $("#changePassword").modal("show");
            });
        };

         var GetUser = function (id) {
            var UserPath = "/Admin/Home/SaveUser?Id=" + id;
            $("#myModalBodyDiv1").load(UserPath, function () {
                $("#myModal1").modal("show");
            });
        };

</script>